<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF">
    <title>Contacts Manager</title>
    <%= csrf_meta_tags %>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    </script>
  </head>
  <body>
    <header class="main-header">
      <div class="header-chunk logo-area">
        <h1>Contact Manager</h1>
      </div>
      <div class="header-chunk search-area">
        <%= form_tag contacts_path, :method => 'get', :id => 'contact-search' do =%>
          <%= text_field_tag :search, params[:search], placeholder: "Search for anyone..." %>
          <%= submit_tag "Search" %>
        <% end %>
      </div>
    </header>
    <nav class="navbar navbar-default sidebar" role="navigation">
    <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-sidebar-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div class="collapse navbar-collapse" id="bs-sidebar-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li>
          <%= link_to new_contact_path, :remote => true, data: { toggle: "modal", target: "#ajax-modal" } do %>
            Create
            <span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-plus"></span>
          <% end %>
        </li>
        <li class="active">
          <%= link_to 'All Contacts', fetch_all_path, remote: true %>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            Groups
            <span class="caret"></span>
            <span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-user"></span>
          </a>
          <ul class="dropdown-menu forAnimate" role="menu">
            <% @groups.each do |group| %>
              <li class="list-group group-name-container">
                <div class="group-name-wrapper">
                  <%= link_to "#{group.name}", fetch_contacts_path(:group_id => group.id), remote: true %>
                </div>
                <div class="pull-right action-buttons">
                  <%= link_to edit_group_path(group), remote: true do %>
                    <span class="glyphicon glyphicon-pencil"></span>
                  <% end %>
                  <%= link_to group, method: :delete, data: {confirm: 'Are you sure?'} do %>
                    <span class="glyphicon glyphicon-trash"></span>
                  <% end %>
                </div>
              </li>
            <% end %>
            <li class="divider"></li>
            <li class="list-group">
              <div class="group-name-wrapper">
                <%= link_to "New group", new_group_path, :remote => true, data: { toggle: "modal", target: "#ajax-modal" } %>
              </div>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

    <!-- <nav class="side-nav">
      <ul class="nav-list">
        <li class="nav-item" id="create-button">
          <%= link_to 'Create', new_contact_path, :remote => true, data: { toggle: "modal", target: "#ajax-modal" } %>
        </li>
        <li class="nav-item" id="index-button">
          <%= link_to 'All Contacts', fetch_all_path, remote: true %>
        </li>
        <ul class="group-list">
          Groups
          <% @groups.each do |group| %>
            <li>
              <%= link_to "#{group.name}", fetch_contacts_path(:group_id => group.id), remote: true %>
              <div class="group-options">
                <%= link_to "Edit", edit_group_path(group) %>
                <%= link_to "Delete", group, method: :delete, data: {confirm: 'Are you sure?'} %>
              </div>
            </li>
          <% end %>
          <li><%= link_to "New group", new_group_path, :remote => true, data: { toggle: "modal", target: "#ajax-modal" } %></li>
        </ul>
      </ul>
    </nav> -->
    <%= yield %>
  </body>
</html>
